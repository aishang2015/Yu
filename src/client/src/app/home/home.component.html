<nz-layout style="height:100vh;">
    <nz-sider nzCollapsible [(nzCollapsed)]="isCollapsed" [nzWidth]="width" [nzReverseArrow]="isReverseArrow">
        <div class="logo"><a style="color:white" [routerLink]="[ '/dashboard']" (click)="setDashboardBreadCrumb()">Yu</a></div>
        <ul nz-menu [nzTheme]="'dark'" [nzMode]="'inline'" [nzInlineCollapsed]="isCollapsed">
            <li nz-submenu [(nzOpen)]="openMap.right" *ngIf="canOperate('rightmanage')">
                <span title><i nz-icon nzType="idcard" nzTheme="outline"></i><span class="nav-text">权限管理</span></span>
                <ul>
                    <li nz-menu-item [(nzSelected)]="selectMap.rightuser" *ngIf="canOperate('usermanage')" [routerLink]="[ '/right/user' ]" (click)="setBreadCrumb('权限管理','用户管理')"><i nz-icon nzType="user" nzTheme="outline"></i>用户管理</li>
                    <li nz-menu-item [(nzSelected)]="selectMap.rightrole"  *ngIf="canOperate('rolemanage')" [routerLink]="[ '/right/role' ]" (click)="setBreadCrumb('权限管理','角色管理')"><i nz-icon nzType="audit" nzTheme="outline"></i>角色管理</li>
                    <li nz-menu-item [(nzSelected)]="selectMap.rightgroup" *ngIf="canOperate('groupmanage')" [routerLink]="[ '/right/group' ]" (click)="setBreadCrumb('权限管理','组织管理')"><i nz-icon nzType="team" nzTheme="outline"></i>组织管理</li>
                    <li nz-menu-item [(nzSelected)]="selectMap.rightmenu" *ngIf="canOperate('elementmanage')" [routerLink]="[ '/right/menu' ]" (click)="setBreadCrumb('权限管理','页面元素管理')"><i nz-icon nzType="ordered-list" nzTheme="outline"></i>页面元素管理</li>
                    <li nz-menu-item [(nzSelected)]="selectMap.rightapi" *ngIf="canOperate('apimanage')" [routerLink]="[ '/right/api' ]" (click)="setBreadCrumb('权限管理','API数据管理')"><i nz-icon nzType="api" nzTheme="outline"></i>API数据管理</li>
                    <li nz-menu-item [(nzSelected)]="selectMap.rightrule" *ngIf="canOperate('rulemanage')" [routerLink]="[ '/right/rule' ]" (click)="setBreadCrumb('权限管理','规则管理')"><i nz-icon nzType="filter" nzTheme="outline"></i>规则管理</li>
                    <li nz-menu-item [(nzSelected)]="selectMap.rightentity" *ngIf="canOperate('entitymanage')" [routerLink]="[ '/right/entity' ]" (click)="setBreadCrumb('权限管理','实体数据管理')"><i nz-icon nzType="profile" nzTheme="outline"></i>实体数据管理</li>
                </ul>
            </li>

            <li nz-submenu [(nzOpen)]="openMap.test" *ngIf="canOperate('test')">
                <span title><i nz-icon nzType="idcard" nzTheme="outline"></i><span class="nav-text">功能实验</span></span>
                <ul>
                    <li nz-menu-item [(nzSelected)]="selectMap.rightuser" *ngIf="canOperate('testdata')" [routerLink]="[ '/test/testdata' ]" (click)="setBreadCrumb('功能实验','数据实验')"><i nz-icon nzType="user" nzTheme="outline"></i>数据实验</li>
                </ul>
            </li>
        </ul>
    </nz-sider>
    <nz-layout>
        <nz-header style="background: #fff; padding:0;">
            <div style="line-height: 64px;float: right;padding:0 16px;">
                
                <nz-avatar nzIcon="user" [nzSrc]="avatarUrl"></nz-avatar>
                <nz-dropdown [nzTrigger]="'click'">
                    <a nz-dropdown>{{ userName }}<i nz-icon type="down"></i> </a>
                    <ul nz-menu>
                        <li nz-menu-item>我的信息</li>
                        <li nz-menu-item (click)="logout()">注销</li>   
                    </ul>
                </nz-dropdown>

            </div>
        </nz-header>
        <nz-content style="margin:0 16px;min-height: auto;">
            <nz-breadcrumb style="margin:16px 0;">
                <nz-breadcrumb-item *ngIf="prefix">{{ prefix }}</nz-breadcrumb-item>
                <nz-breadcrumb-item *ngIf="endfix">{{ endfix }}</nz-breadcrumb-item>
            </nz-breadcrumb>
            <div style="padding:24px; background: #fff; min-height: calc(100% - 80px);">
                <router-outlet></router-outlet>
            </div>
        </nz-content>
        <nz-footer style="text-align: center;">Ant Design ©2019 Implement By Angular</nz-footer>
    </nz-layout>
</nz-layout>